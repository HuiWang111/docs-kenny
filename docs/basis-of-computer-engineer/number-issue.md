# 数字相关的问题

## 1. 小数精度问题
### 十进制整数转二进制方法
- 除二取余法，以5为例, 从下到上 101就是5的二进制。整数完全可以用二进制表示
```
5 / 2 = 2 % 1
2 / 2 = 1 % 0
1 / 2 = 0 % 1
```

### 十进制小数转二进制方法
- 乘2取整法，以0.1为例，0.1不能使用二进制完整的表示，因此会有精度问题。
```
0.1 * 2 = 0.2 取整 0 剩下 0.2
0.2 * 2 = 0.4 取整 0 剩下 0.4
0.4 * 2 = 0.8 取整 0 剩下 0.8
0.8 * 2 = 1.6 取整 1 剩下 0.6
0.6 * 2 = 1.2 取整 1 剩下 0.2
0.1 * 2 = 0.2 取整 0 剩下 0.2
0.2 * 2 = 0.4 取整 0 剩下 0.4
0.4 * 2 = 0.8 取整 0 剩下 0.8
0.8 * 2 = 1.6 取整 1 剩下 0.6
0.6 * 2 = 1.2 取整 1 剩下 0.2
... 无限循环了
```

### 精度相关面试题攻略
1. 初级：浮点数表示小数会有精度损失
2. 中级：说出浮点数的表示规则
3. 高级：高精度运算，适合高精度的语言和解决方案。如：专门有个money类型

## 2. 数字最大限制问题
### MAX_SAFE_INTEGER
MAX_SAFE_INTEGER表示最大可以精确表示的数字。
在此数字基础上再进行加法运算会导致计算不精确。
```
> Number.MAX_SAFE_INTEGER
< 9007199254740991
```

### 常用的高精度计算js库
- BigInt
- bigDecimal
- json-bigint
